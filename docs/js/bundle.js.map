{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/globals.js","webpack:///./src/js/render/utils.js","webpack:///./src/js/utils.js","webpack:///./src/js/tasks/tasks.js","webpack:///./src/js/render/render.js","webpack:///./src/js/event_handlers/handlers.js","webpack:///./src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","months","week","getDayOfWeekNumber","day","showElement","element","classList","remove","hideElement","add","resetEventForm","content","document","querySelector","eventForm","appendChild","clearSearchResults","innerHTML","clearActiveDay","activeDay","compareDates","date1","date2","getFullYear","getMonth","getDate","current","Date","findEvent","date","events","getEvents","index","indexOf","find","e","event","manageEvent","eventInfo","eventIndex","info","setEvents","updateEvent","push","addEvent","renderNewPage","JSON","parse","localStorage","getItem","data","setItem","stringify","renderDay","withDayOfWeek","currentDate","createElement","dataset","span","getDay","existingEvent","eventContent","participants","description","renderPage","year","month","setCurrentMonthYear","days","calendar","weeksNumber","Math","round","length","counter","weekDiv","j","renderMonth","monthLenght","Array","keys","map","firstDay","lastDay","num","unshift","calcDaysArray","setActiveDay","setDate","querySelectorAll","click","renderEventForm","deleteBtn","disabled","clientWidth","offsetLeft","calcEventFormOffset","renderSearchNoResults","resultsContainer","div","quickFormClose","quickFormShow","body","quickFormShowBtn","quickFormCloseBtn","quickFormConfirmBtn","search","dateContainer","addEventListener","target","closest","rawData","trim","split","el","some","alert","Number","slice","toLowerCase","isNaN","join","isPrev","contains","isNext","today","confirm","splice","deleteEvent","searchQuery","resultsList","forEach","eventData","li","children","renderSearchResults"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export const months = [\r\n  \"Январь\",\r\n  \"Февраль\",\r\n  \"Март\",\r\n  \"Апрель\",\r\n  \"Май\",\r\n  \"Июнь\",\r\n  \"Июль\",\r\n  \"Август\",\r\n  \"Сентябрь\",\r\n  \"Октябрь\",\r\n  \"Ноябрь\",\r\n  \"Декабрь\"\r\n];\r\n\r\nexport const week = [\r\n  \"Понедельник\",\r\n  \"Вторник\",\r\n  \"Среда\",\r\n  \"Четверг\",\r\n  \"Пятница\",\r\n  \"Суббота\",\r\n  \"Воскресенье\"\r\n];\r\n","import { months, week } from '../globals.js';\r\n\r\nexport function getDayOfWeekNumber(day) {\r\n  if (day === 0) return 6;\r\n  return day - 1;\r\n}\r\nexport function showElement(element) {\r\n  element.classList.remove('hidden');\r\n}\r\nexport function hideElement(element) {\r\n  element.classList.add('hidden');\r\n}\r\nexport function disableElement(element) {\r\n  element.disabled = true;\r\n}\r\nexport function enableElement(element) {\r\n  element.disabled = false;\r\n}\r\nexport function resetEventForm() {\r\n  let content = document.querySelector('.content__container');\r\n  let eventForm = document.querySelector('.event');\r\n  if (eventForm) {\r\n    hideElement(eventForm);\r\n    content.appendChild(eventForm);\r\n  }\r\n}\r\nexport function clearContent() {\r\n  let calendar = document.querySelector('.content');\r\n  calendar.innerHTML = '';\r\n}\r\nexport function clearSearchResults() {\r\n  let resultsContainer = document.querySelector('.top__search-results');\r\n  resultsContainer.innerHTML = '';\r\n}\r\nexport function clearActiveDay() {\r\n  let activeDay = document.querySelector('.day--active');\r\n  if (activeDay) {\r\n    activeDay.classList.remove('day--active');\r\n  }\r\n}\r\nexport function setActiveDay(target) {\r\n  target.classList.add('day--active');\r\n}\r\nexport function calcDaysArray(month, year) {\r\n  let monthLenght = new Date(year, month + 1, 0).getDate();\r\n  let days = [...new Array(monthLenght).keys()].map(day => day + 1);\r\n  let firstDay = getDayOfWeekNumber(new Date(year, month, 1).getDay());\r\n  let lastDay = getDayOfWeekNumber(new Date(year, month + 1, 0).getDay());\r\n  if (firstDay !== 0) {\r\n    let num = 0;\r\n    for (let i = 0; i < firstDay; i++) {\r\n      days.unshift(num);\r\n      num--;\r\n    }\r\n  }\r\n  if (lastDay !== 6) {\r\n    let num = monthLenght + 1;\r\n    for (let i = 0; i < week.length - lastDay; i++) {\r\n      days.push(num);\r\n      num++;\r\n    }\r\n  }\r\n  return days;\r\n}\r\nexport function calcEventFormOffset(day) {\r\n  let calendar = document.querySelector('.content');\r\n  let eventForm = document.querySelector('.event');\r\n  calendar.clientWidth - (day.offsetLeft + day.clientWidth) < eventForm.clientWidth ?\r\n    eventForm.classList.add('event--left') :\r\n    eventForm.classList.remove('event--left');\r\n}\r\nexport function setCurrentMonthYear(month, year) {\r\n  let dateContainer = document.querySelector('.date__current');\r\n  dateContainer.innerHTML = `${months[month]} ${year}`;\r\n}\r\n","export function compareDates(date1, date2) {\r\n  /**\r\n   * Checks if two dates are equal\r\n   *\r\n   * @param {date} date1 - first date\r\n   * @param {date} date2 - second date\r\n   * @return {bool} - true if dates are equal, and false otherwise\r\n   */\r\n  if (date1.getFullYear() === date2.getFullYear() &&\r\n      date1.getMonth() === date2.getMonth() &&\r\n      date1.getDate() === date2.getDate()) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport let current = new Date();\r\n\r\nexport function setDate(date) {\r\n  current = date;\r\n}\r\n","import { compareDates } from '../utils.js';\r\nimport { renderNewPage } from '../render/render.js';\r\nimport { current } from '../utils.js';\r\n\r\nexport function findEvent(date) {\r\n  if (typeof date === 'string') date = new Date(date);\r\n  let events = getEvents();\r\n  let index = events.indexOf(events.find(e => compareDates(new Date(e.date), date)))\r\n  return {\r\n    index,\r\n    event: events[index]\r\n  };\r\n}\r\nexport function addEvent(info) {\r\n  let events = getEvents();\r\n  events.push(info);\r\n  setEvents(events);\r\n}\r\nexport function updateEvent(index, info) {\r\n  let events = getEvents();\r\n  events[index] = info;\r\n  setEvents(events);\r\n}\r\nexport function deleteEvent(index) {\r\n  let events = getEvents();\r\n  events.splice(index, 1);\r\n  setEvents(events);\r\n}\r\nexport function manageEvent(eventInfo) {\r\n  let eventIndex = findEvent(eventInfo.date).index;\r\n  eventIndex !== -1 ? updateEvent(eventIndex, eventInfo) : addEvent(eventInfo);\r\n  renderNewPage(current);\r\n}\r\nexport function getEvents() {\r\n  return JSON.parse(localStorage.getItem('planner-events')) || [];\r\n}\r\nexport function setEvents(data) {\r\n  localStorage.setItem('planner-events', JSON.stringify(data));\r\n}\r\n","import {\r\n  getDayOfWeekNumber,\r\n  resetEventForm,\r\n  clearContent,\r\n  calcDaysArray,\r\n  calcEventFormOffset,\r\n  setCurrentMonthYear,\r\n  showElement\r\n} from './utils.js';\r\nimport { compareDates, current, setDate } from '../utils.js';\r\nimport { findEvent, getEvents } from '../tasks/tasks.js';\r\nimport { week } from '../globals.js';\r\n\r\nexport function renderDay(date, withDayOfWeek) {\r\n  let currentDate = new Date();\r\n  let day = document.createElement('TD');\r\n  day.classList.add('day');\r\n  if (compareDates(currentDate, date)) day.classList.add('day--today');\r\n  day.dataset.date = date;\r\n  let span = document.createElement('SPAN');\r\n  span.classList.add('day__date');\r\n  span.innerHTML = withDayOfWeek ?\r\n    `${week[getDayOfWeekNumber(date.getDay())]}, ${date.getDate()}` :\r\n    `${date.getDate()}`;\r\n  day.appendChild(span);\r\n  let existingEvent = findEvent(date).event;\r\n  if (existingEvent) {\r\n    let eventContent = document.createElement('DIV');\r\n    eventContent.classList.add('day__content');\r\n    eventContent.innerHTML = `\r\n      <div>${existingEvent.name}</div>\r\n      <div>${existingEvent.participants}</div>\r\n      <div>${existingEvent.description}</div>\r\n    `;\r\n    day.classList.add('day--with-event');\r\n    day.appendChild(eventContent);\r\n  }\r\n  return day;\r\n}\r\nexport function renderMonth(year, month, days) {\r\n  let calendar = document.querySelector('.content');\r\n  let weeksNumber = Math.round(days.length/week.length);\r\n  let counter = 0;\r\n  for (let i = 0; i < weeksNumber; i++) {\r\n    let weekDiv = document.createElement('TR');\r\n    weekDiv.classList.add('content__week');\r\n    for (let j = 0; j < week.length; j++) {\r\n      let date = new Date(year, month, days[counter]);\r\n      let day = renderDay(date, counter < 7);\r\n      weekDiv.appendChild(day);\r\n      ++counter;\r\n    }\r\n    calendar.appendChild(weekDiv);\r\n  }\r\n}\r\nexport function renderPage(date) {\r\n  resetEventForm();\r\n  clearContent();\r\n  let year = date.getFullYear();\r\n  let month = date.getMonth();\r\n  setCurrentMonthYear(month, year);\r\n  let daysArray = calcDaysArray(month, year);\r\n  renderMonth(year, month, daysArray);\r\n}\r\nexport function renderNewPage(date, setActiveDay) {\r\n  if (typeof date === 'string') date = new Date(date);\r\n  setDate(date);\r\n  renderPage(current);\r\n  if (setActiveDay) {\r\n    let day = [...document.querySelectorAll('.day')].find(day => compareDates(date, new Date(day.dataset.date)));\r\n    day.click();\r\n  }\r\n}\r\nexport function renderEventForm(day) {\r\n  let date = new Date(day.dataset.date);\r\n  let eventForm = document.querySelector('.event');\r\n  day.appendChild(eventForm);\r\n  showElement(eventForm);\r\n  eventForm.querySelector('.event__date').value = `${date.getDate()}`;\r\n  let name = eventForm.querySelector('.event__name');\r\n  let participants = eventForm.querySelector('.event__participants');\r\n  let description = eventForm.querySelector('.event__description');\r\n  let deleteBtn = eventForm.querySelector('.event__form-clear');\r\n  let existingEvent = findEvent(date).event || {\r\n    name : '',\r\n    participants : '',\r\n    description : ''\r\n  };\r\n  name.value = existingEvent.name;\r\n  participants.value = existingEvent.participants;\r\n  description.value = existingEvent.description;\r\n  deleteBtn.disabled = findEvent(date).index === -1;\r\n  eventForm.dataset.date = day.dataset.date;\r\n  calcEventFormOffset(day);\r\n}\r\nexport function renderSearchResults(searchQuery) {\r\n  let resultsContainer = document.querySelector('.top__search-results');\r\n  let events = getEvents();\r\n  if (!events.length) {\r\n    renderSearchNoResults();\r\n    return;\r\n  }\r\n  let resultsList = document.createElement('UL');\r\n  resultsList.classList.add('top__search-results-list');\r\n  events.forEach(eventData => {\r\n    if (eventData.name.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1) {\r\n      let li = document.createElement('LI');\r\n      li.classList.add('top__search-results-item');\r\n      let date = new Date(eventData.date);\r\n      li.dataset.date = date;\r\n      li.innerHTML = `\r\n        <div class='top__search-name'>${eventData.name}</div>\r\n        <div class='top__search-date'>${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}</div>\r\n      `;\r\n      resultsList.appendChild(li);\r\n    }\r\n  });\r\n  if (resultsList.children.length) {\r\n    resultsList.addEventListener('click', e => {\r\n      let eventInfo = e.target.closest('LI');\r\n      if (eventInfo) {\r\n        renderNewPage(new Date(eventInfo.dataset.date), true);\r\n      }\r\n    });\r\n    resultsContainer.appendChild(resultsList);\r\n  } else {\r\n    renderSearchNoResults();\r\n  }\r\n}\r\nexport function renderSearchNoResults() {\r\n  let resultsContainer = document.querySelector('.top__search-results');\r\n  let div = document.createElement('DIV');\r\n  div.innerHTML = 'no results!';\r\n  resultsContainer.appendChild(div);\r\n}","import {\r\n  resetEventForm,\r\n  clearSearchResults,\r\n  clearActiveDay,\r\n  setActiveDay,\r\n  showElement,\r\n  hideElement,\r\n  disableElement,\r\n  enableElement,\r\n} from '../render/utils.js';\r\nimport {\r\n  renderNewPage,\r\n  renderEventForm,\r\n  renderSearchResults\r\n} from '../render/render.js';\r\nimport {\r\n  findEvent,\r\n  manageEvent,\r\n  deleteEvent\r\n} from '../tasks/tasks.js';\r\nimport { current } from '../utils.js';\r\nimport { months } from '../globals.js';\r\n\r\nexport function bodyHandler(e) {\r\n  if (!e.target.closest('.content')) {\r\n    clearActiveDay();\r\n    resetEventForm();\r\n  }\r\n  if (!e.target.closest('.top__search')) {\r\n    clearSearchResults();\r\n  }\r\n  if (!e.target.closest('.top__event')) {\r\n    quickFormClose();\r\n  }\r\n}\r\nexport function quickFormShow(e) {\r\n  let quickForm = document.querySelector('.top__event-container');\r\n  showElement(quickForm);\r\n  disableElement(e.target);\r\n}\r\nexport function quickFormClose() {\r\n  let quickFormText = document.querySelector('.top__event-text');\r\n  quickFormText.value = '';\r\n  let quickForm = document.querySelector('.top__event-container');\r\n  hideElement(quickForm);\r\n  let quickFormShow = document.querySelector('.top__event-show');\r\n  enableElement(quickFormShow);\r\n}\r\nexport function quickFormConfirm() {\r\n  let rawData = document.querySelector('.top__event-text').value.trim().split(',').map(el => el.trim());\r\n  if (rawData.length < 4 || rawData.some((el, i) => el.length === 0 && i < 4)) return alert('wrong info format!');\r\n  if (rawData[0].split(' ').length < 2) return alert('wrong date format!');\r\n  let day = Number(rawData[0].split(' ')[0]);\r\n  let month = rawData[0].split(' ')[1];\r\n  months.some((el, index) => {\r\n    if (month.slice(0, -1).toLowerCase() === el.slice(0, -1).toLowerCase() ||\r\n        month.slice(0, -1).toLowerCase() === el.toLowerCase()) {\r\n      month = index;\r\n      return true;\r\n    }\r\n  });\r\n  let date = new Date(new Date().getFullYear(), month, day);\r\n  if (Number.isNaN(Date.parse(date))) return alert('errors in date validation!');\r\n  let name = rawData[1];\r\n  let participants = rawData[2];\r\n  let description = rawData.slice(3).join(', ');\r\n  let eventInfo = { date, name, participants, description };\r\n  manageEvent(eventInfo);\r\n  renderNewPage(date, true);\r\n}\r\nexport function dateHandler(e) {\r\n  let isPrev = e.target.classList.contains('date__prev');\r\n  let isNext = e.target.classList.contains('date__next');\r\n  let today = e.target.classList.contains('date__today');\r\n  if (isPrev || isNext) {\r\n    renderNewPage(new Date(current.getFullYear(), current.getMonth() - (isPrev ? 1 : -1)));\r\n  } else if (today) {\r\n    renderNewPage(new Date(), true);\r\n  }\r\n}\r\nexport function contentHandler(e) {\r\n  let day = e.target.closest('.day');\r\n  if (day && !e.target.closest('.event')) {\r\n    clearActiveDay();\r\n    setActiveDay(day);\r\n    renderEventForm(day);\r\n  } else if (e.target.closest('.event')) {\r\n    let eventForm = document.querySelector('.event');\r\n    if (e.target.classList.contains('event__form-close')) {\r\n      clearActiveDay();\r\n      resetEventForm();\r\n    } else if (e.target.classList.contains('event__form-confirm')) {\r\n      let date = new Date(eventForm.dataset.date);\r\n      let name = eventForm.querySelector('.event__name').value.trim();\r\n      let participants = eventForm.querySelector('.event__participants').value.trim();\r\n      let description = eventForm.querySelector('.event__description').value.trim();\r\n      let eventInfo = { date, name, participants, description };\r\n      if (!name || !participants || !description) {\r\n        return alert('Заполните все поля!');\r\n      }\r\n      manageEvent(eventInfo);\r\n    } else if (e.target.classList.contains('event__form-clear')) {\r\n      let confirmation = confirm('Do you want do delete this event?');\r\n      if (confirmation) {\r\n        let date = new Date(eventForm.dataset.date);\r\n        let eventIndex = findEvent(date).index;\r\n        deleteEvent(eventIndex);\r\n        renderNewPage(current);\r\n      }\r\n    }\r\n  }\r\n}\r\nexport function searchHandler(e) {\r\n  let searchQuery = e.target.value.trim();\r\n  clearSearchResults();\r\n  renderSearchResults(searchQuery);\r\n}\r\n","import { renderPage } from './render/render.js';\r\nimport {\r\n  bodyHandler,\r\n  quickFormShow,\r\n  quickFormClose,\r\n  quickFormConfirm,\r\n  dateHandler,\r\n  contentHandler,\r\n  searchHandler\r\n} from './event_handlers/handlers.js';\r\nimport { current } from './utils.js';\r\nimport '../css/style.css';\r\n\r\n// initial render\r\nrenderPage(current);\r\n\r\n// event handlers\r\nlet body = document.querySelector('body');\r\nlet quickFormShowBtn = document.querySelector('.top__event-show');\r\nlet quickFormCloseBtn = document.querySelector('.top__event-close');\r\nlet quickFormConfirmBtn = document.querySelector('.top__event-confirm');\r\nlet search = document.querySelector('.top__search-input');\r\nlet dateContainer = document.querySelector('.date');\r\nlet calendar = document.querySelector('.content');\r\n\r\nbody.addEventListener('click', bodyHandler, true);\r\nquickFormShowBtn.addEventListener('click', quickFormShow);\r\nquickFormCloseBtn.addEventListener('click', quickFormClose);\r\nquickFormConfirmBtn.addEventListener('click', quickFormConfirm);\r\ndateContainer.addEventListener('click', dateHandler);\r\ncalendar.addEventListener('click', contentHandler);\r\nsearch.addEventListener('input', searchHandler);\r\n"],"sourceRoot":""}